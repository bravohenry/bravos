/* Default/fallback values */
:root {
  --os-font-ui: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif;
  --os-font-mono: "Monaco", "ArkPixel", "SerenityOS-Emoji", monospace;
  --os-color-window-bg: #ffffff;
  --os-color-menubar-bg: #ffffff;
  --os-color-menubar-border: #000000;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: #ffffff;
  --os-color-titlebar-inactive-bg: #ffffff;
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #666666;
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #cccccc;
  --os-color-selection-bg: #000000;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #666666;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0.5rem;
  --os-metrics-titlebar-height: 1.5rem;
  --os-metrics-menubar-height: 1.75rem; /* 28px */
  --os-window-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.5);
}

/* System 7 Theme */
:root[data-os-theme="system7"] {
  --os-font-ui: "ChicagoKare", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif;
  --os-font-mono: "Monaco", "ArkPixel", "SerenityOS-Emoji", monospace;
  --os-color-window-bg: #ffffff;
  --os-color-menubar-bg: #ffffff;
  --os-color-menubar-border: #000000;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: #ffffff;
  --os-color-titlebar-inactive-bg: #ffffff;
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #666666;
  --os-color-titlebar-pattern: linear-gradient(#000 50%, transparent 0);
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #cccccc;
  --os-color-selection-bg: #000000;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #666666;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0px; /* System 7 has square corners */
  --os-metrics-titlebar-height: 1.5rem;
  --os-metrics-menubar-height: 1.75rem; /* 28px */
  --os-window-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.5);
}

/* Inactive selection palette for background windows (System 7) */
:root[data-os-theme="system7"] .window:not(.is-foreground) {
  --os-color-selection-bg: #cfcfcf; /* neutral gray */
  --os-color-selection-text: #000000;
}

/* Mac OS X Theme */
:root[data-os-theme="macosx"] {
  --os-font-ui: "LucidaGrande", "Lucida Grande", "Hiragino Sans",
    "Hiragino Sans GB", "Heiti SC", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, sans-serif;
  --os-font-mono: Monaco, Menlo, monospace;
  --os-color-window-bg: #ececec;
  --os-color-menubar-bg: linear-gradient(to bottom, #f8f8f8, #d4d4d4);
  --os-color-menubar-border: rgba(0, 0, 0, 0.44);
  --os-color-menubar-text: #000000;
  --os-color-window-border: rgba(0, 0, 0, 0.4);
  --os-color-window-border-inactive: rgba(0, 0, 0, 0.08);
  --os-color-titlebar-border: rgba(0, 0, 0, 0.3);
  --os-color-titlebar-border-inactive: rgba(0, 0, 0, 0.2);
  --os-color-titlebar-active-bg: linear-gradient(
    to bottom,
    #e8e8e8 0%,
    #d0d0d0 100%
  );
  --os-color-titlebar-inactive-bg: linear-gradient(to bottom, #f6f6f6, #e0e0e0);
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #7f7f7f;
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: rgba(0, 0, 0, 0.4);
  --os-color-button-active-face: #e0e0e0;
  --os-color-traffic-light-close: #4a0a07;
  --os-color-traffic-light-minimize: #7a5915;
  --os-color-traffic-light-maximize: #10541a;
  --os-color-selection-bg: rgba(39, 101, 202, 0.88);
  --os-color-selection-text: #ffffff;
  /* Derived selection glow (used for focus rings). Keep alpha in a separate var */
  --os-color-selection-glow: rgba(48, 103, 218, 0.5);
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #4b4b4b;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 0.5px;
  --os-metrics-titlebar-border-width: 1px;
  --os-metrics-radius: 0.45rem;
  --os-metrics-titlebar-height: 1.375rem;
  --os-metrics-menubar-height: 1.5rem;
  --os-window-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
  /* Shared texture variables */
  --os-texture-toolbar-image: url("/assets/brushed-metal.jpg");
  --os-texture-toolbar-size: cover;
  --os-texture-toolbar-repeat: no-repeat;
  --os-texture-toolbar-position: center;
  /* Pinstripe patterns */
  --os-pinstripe-titlebar: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(219, 219, 219, 0.6) 70%,
    rgba(206, 206, 206, 0.7) 100%
  );
  --os-pinstripe-window: repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 1.5px,
      rgba(255, 255, 255, 0.85) 1.5px,
      rgba(255, 255, 255, 0.85) 4px
    ),
    linear-gradient(to bottom, #ececec 0%, #ececec 100%);
  --os-pinstripe-menubar: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 1.5px,
    rgba(255, 255, 255, 0.55) 1.5px,
    rgba(255, 255, 255, 0.55) 4px
  );
}

/* Shared toolbar texture utility. Uses variables defined by the active theme. */
.os-toolbar-texture {
  background-image: var(--os-texture-toolbar-image, none);
  background-size: var(--os-texture-toolbar-size, cover);
  background-repeat: var(--os-texture-toolbar-repeat, no-repeat);
  background-position: var(--os-texture-toolbar-position, center);
}

/* Windows 98 Theme */
:root[data-os-theme="win98"] {
  --os-font-ui: "Pixelated MS Sans Serif", "MS Sans Serif", "ArkPixel",
    "SerenityOS-Emoji", sans-serif;
  --os-font-mono: Monaco, Consolas, "Courier New", monospace;
  --font-ms-sans: "Pixelated MS Sans Serif", "MS Sans Serif", "ArkPixel",
    "SerenityOS-Emoji", system-ui, sans-serif;
  --os-color-window-bg: #c0c0c0;
  --os-color-menubar-bg: #c0c0c0;
  --os-color-menubar-border: #808080;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: linear-gradient(to right, #000084, #1084d0);
  --os-color-titlebar-inactive-bg: linear-gradient(to right, #808080, #c0c0c0);
  --os-color-titlebar-text: #ffffff;
  --os-color-titlebar-text-inactive: #e0e0e0;
  --os-color-button-face: #c0c0c0;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #b0b0b0;
  --os-color-selection-bg: #000080;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #333333;
  --os-color-text-disabled: #7f7f7f;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0px;
  --os-metrics-titlebar-height: 1.375rem;
  --os-metrics-menubar-height: 1.375rem;
  --os-window-shadow: none;
}

/* Inactive selection palette for background windows (Windows 98) */
:root[data-os-theme="win98"] .window:not(.is-foreground) {
  --os-color-selection-bg: #c0c0c0; /* classic 98 gray */
  --os-color-selection-text: #000000;
}

/* Windows XP Theme */
:root[data-os-theme="xp"] {
  --os-font-ui: Tahoma, "Pixelated MS Sans Serif", "MS Sans Serif", "ArkPixel",
    "SerenityOS-Emoji", sans-serif;
  --os-font-mono: Consolas, Courier New, monospace;
  --font-ms-sans: "Pixelated MS Sans Serif", "MS Sans Serif", "ArkPixel",
    "SerenityOS-Emoji", system-ui, sans-serif;
  --os-color-window-bg: #ece9d8;
  --os-color-menubar-bg: linear-gradient(to bottom, #245edc, #1941a5);
  --os-color-menubar-border: #0a246a;
  --os-color-menubar-text: #ffffff;
  --os-color-window-border: #0054e3;
  --os-color-titlebar-active-bg: linear-gradient(to bottom, #0058e6, #1941a5);
  --os-color-titlebar-inactive-bg: linear-gradient(to bottom, #8b9dc3, #7a8aab);
  --os-color-titlebar-text: #ffffff;
  --os-color-titlebar-text-inactive: #d5ddf3;
  --os-color-button-face: #ece9d8;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #aca899;
  --os-color-button-active-face: #d8d5c8;
  --os-color-selection-bg: #316ac5;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #5a5a5a;
  --os-color-text-disabled: #a0a0a0;
  --os-metrics-border-width: 3px;
  --os-metrics-radius: 0.5rem;
  --os-metrics-titlebar-height: 1.875rem;
  --os-metrics-menubar-height: 1.875rem;
  --os-window-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
}

/* Inactive selection palette for background windows (Windows XP) */
:root[data-os-theme="xp"] .window:not(.is-foreground) {
  --os-color-selection-bg: #ece9da; /* soft gray */
  --os-color-selection-text: #000000;
}

/* Backwards compatibility aliases */
.bg-system7-window-bg {
  background: var(--os-color-window-bg);
}

.bg-system7-menubar-bg {
  background: var(--os-color-menubar-bg);
}

/* Mac OS X Aqua Button Styles */
.aqua-button {
  line-height: 1;
  height: 28px;
  padding: 0 16px;
  min-width: auto;
  border-radius: 14px;
  position: relative;
  overflow: hidden;
  cursor: default;
  outline: none;
  border: none;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  -webkit-font-smoothing: antialiased;
  font-smooth: auto;
}

.aqua-button.primary {
  background: linear-gradient(
    rgba(0, 65, 184, 0.625),
    rgba(45, 115, 199, 0.625),
    rgba(33, 160, 196, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75);
}

.aqua-button.primary:focus,
.aqua-button.primary:active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75), 0 0 3px rgba(52, 106, 227, 0.5);
}

.aqua-button.secondary {
  background: linear-gradient(
    rgba(160, 160, 160, 0.625),
    rgba(255, 255, 255, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 3px 1px #bbbbbb;
}

.aqua-button.secondary:focus,
.aqua-button.secondary:active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 3px 1px #bbbbbb,
    0 0 3px rgba(0, 0, 0, 0.25);
}

/* Orange variant for aqua button (macOS login) */
.aqua-button.orange {
  background: linear-gradient(
    rgba(250, 172, 4, 0.85),
    rgba(254, 197, 64, 0.85),
    rgba(255, 219, 128, 0.85)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(250, 172, 4, 0.5),
    inset 0 1px 3px rgba(120, 65, 0, 0.8),
    inset 0 2px 3px 1px rgba(250, 172, 4, 0.75);
}
.aqua-button.orange:focus,
.aqua-button.orange:active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(250, 172, 4, 0.5),
    inset 0 1px 3px rgba(120, 65, 0, 0.8),
    inset 0 2px 3px 1px rgba(250, 172, 4, 0.75), 0 0 3px rgba(250, 172, 4, 0.5);
}
.aqua-button.orange,
.aqua-button.orange span {
  color: #fff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* Top shine */
.aqua-button:before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  max-height: 12px;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.3)
  );
  width: calc(100% - 10px);
  border-radius: 12px 12px 2px 2px;
  top: 2px;
  filter: blur(0.5px);
  z-index: 2;
  pointer-events: none;
}

/* Bottom glow */
.aqua-button:after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  background: linear-gradient(rgba(255, 255, 255, 0), rgb(255, 255, 255, 0.5));
  width: calc(100% - 8px);
  border-radius: 4px;
  bottom: 2px;
  filter: blur(1px);
  pointer-events: none;
}

/* Text styling */
.aqua-button span,
.aqua-button {
  position: relative;
  z-index: 3;
  font-weight: 500;
}

.aqua-button.primary span,
.aqua-button.primary {
  text-shadow: 0 2px 2px rgba(30, 77, 161, 0.5);
  color: black;
}

.aqua-button.secondary span,
.aqua-button.secondary {
  text-shadow: 0 2px 2px rgba(0, 0, 0, 0.25);
  color: black;
}

/* macOS Theme Font Overrides */
:root[data-os-theme="macosx"] body {
  font-family: var(--os-font-ui) !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
  font-size: 12px !important;
}

:root[data-os-theme="macosx"] * {
  font-family: inherit;
}

/* Ensure all UI elements in macOS theme use proper antialiasing */
:root[data-os-theme="macosx"] input,
:root[data-os-theme="macosx"] label,
:root[data-os-theme="macosx"] button,
:root[data-os-theme="macosx"] select,
:root[data-os-theme="macosx"] textarea,
:root[data-os-theme="macosx"] .menubar,
:root[data-os-theme="macosx"] .window,
:root[data-os-theme="macosx"] .title-bar {
  font-family: var(--os-font-ui) !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* Ensure Terminal inputs use monospace (Monaco) instead of Lucida Grande on macOS */
:root[data-os-theme="macosx"] .terminal-input {
  font-family: var(--os-font-mono) !important;
  font-size: inherit !important;
  line-height: inherit !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* macOS specific font sizes and gloss effect */
:root[data-os-theme="macosx"] .menubar {
  font-size: 14px !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  font-weight: 500 !important;
  position: relative;
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.5) inset,
    0 -1px 0 rgba(0, 0, 0, 0.1) inset;
  background-image: var(--os-pinstripe-menubar) !important;
}

/* Add gloss effect to macOS menubar */
:root[data-os-theme="macosx"] .menubar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.3),
    rgba(255, 255, 255, 0.1)
  );
  pointer-events: none;
  z-index: 1;
}

/* macOS menubar buttons should have regular weight and padding */
:root[data-os-theme="macosx"] .menubar button {
  font-weight: normal !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative;
  z-index: 2;
}

:root[data-os-theme="macosx"] .title-bar {
  font-size: 13px !important;
  font-weight: 500 !important;
}

:root[data-os-theme="macosx"] button:not(.aqua-button):not(.aqua-tab) {
  font-size: 13px !important;
  font-weight: normal !important;
}

:root[data-os-theme="macosx"] input,
:root[data-os-theme="macosx"] select,
:root[data-os-theme="macosx"] textarea {
  font-size: 12px !important;
}

:root[data-os-theme="macosx"] label {
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] .window-body {
  font-size: 12px !important;
}

:root[data-os-theme="macosx"] p,
:root[data-os-theme="macosx"] div {
  font-size: 13px !important;
}

:root[data-os-theme="macosx"] .synth-force-font {
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  font-size: 11px !important;
}
:root[data-os-theme="macosx"] .synth-force-font p,
:root[data-os-theme="macosx"] .synth-force-font div {
  font-size: inherit !important;
}

:root[data-os-theme="macosx"]
  .synth-force-font
  button:not(.aqua-button):not(.aqua-tab),
:root[data-os-theme="macosx"]
  .synth-force-font
  button:not(.aqua-button):not(.aqua-tab)
  span {
  font-size: 11px !important;
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
}

/* Preserve bookmark bar button text size in Internet Explorer */
/* Target bookmark buttons with highest specificity */
:root[data-os-theme="macosx"]
  button.whitespace-nowrap.hover\:bg-gray-200.font-geneva-12.text-\[10px\] {
  font-size: 10px !important;
}

:root[data-os-theme="macosx"]
  button.whitespace-nowrap.hover\:bg-gray-200.font-geneva-12.text-\[10px\]
  span {
  font-size: 10px !important;
}

/* Also override any text-sm class on these buttons */
:root[data-os-theme="macosx"] button.text-sm.font-geneva-12 {
  font-size: 10px !important;
}

:root[data-os-theme="macosx"] button.text-sm.font-geneva-12 span {
  font-size: 10px !important;
}

/* Chat meta (username/timestamp) override BEFORE generic Control Panels override anchor */
:root[data-os-theme="macosx"] .chat-messages-meta {
  font-size: 11px !important;
  line-height: 1.1 !important;
  padding-bottom: 0.5rem !important;
  padding-top: 0.5rem !important;
}

/* Control Panels sub text override - higher specificity */
:root[data-os-theme="macosx"] p.text-\[11px\].text-gray-600.font-geneva-12,
:root[data-os-theme="macosx"]
  .text-\[11px\].text-gray-600.font-geneva-12:not(
    .ipod-force-font .font-geneva-12
  ):not(.videos-lcd .font-geneva-12) {
  font-size: 11px !important;
}

/* Preserve LCD display styling in Videos app */
:root[data-os-theme="macosx"] .videos-player-controls button.font-geneva-12 {
  font-family: Geneva-12, monospace !important;
  font-size: 9px !important;
}
:root[data-os-theme="macosx"] .videos-lcd .font-geneva-12.text-\[10px\] {
  font-family: Geneva-12, monospace !important;
}

:root[data-os-theme="macosx"] .videos-lcd .font-geneva-12 .text-xl {
  font-size: 1.25rem !important;
  font-family: Geneva-12, monospace !important;
}

:root[data-os-theme="macosx"] .videos-lcd .text-xl {
  font-size: 1.25rem !important;
  font-family: Geneva-12, monospace !important;
}

/* Ensure AnimatedNumber components inherit correct size */
:root[data-os-theme="macosx"] .videos-lcd .text-xl * {
  font-size: inherit !important;
  font-family: inherit !important;
}

:root[data-os-theme="macosx"] .videos-lcd .font-geneva-12.text-\[18px\] {
  font-size: 18px !important;
  font-family: Geneva-12, monospace !important;
}

/* Videos LCD macOS X color scheme (inspired by Minesweeper LCD) */
:root[data-os-theme="macosx"] {
  --videos-lcd-bg: #8a9a8a;
  --videos-lcd-text: #1a2a1a;
  --videos-lcd-text-muted: #2d3b2d;
  --videos-lcd-fade: #8a9a8a;
  --videos-lcd-border-dark: #2f3f2fad;
  --videos-lcd-border-light: #f0f0f064;
}

:root[data-os-theme="macosx"] .videos-lcd {
  background: var(--videos-lcd-bg) !important;
  color: var(--videos-lcd-text) !important;
  border: 1px solid var(--videos-lcd-border-dark) !important;
  border-radius: 3px;
  /* Concave/inset look: top/left darker, bottom/right lighter, plus soft inner shadow */
  box-shadow: inset 0 1px 2px var(--videos-lcd-border-dark),
    inset 0 -1px 2px var(--videos-lcd-border-light) !important; /* soft inner shadow */
  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2) !important;
}

:root[data-os-theme="macosx"] .videos-lcd .font-geneva-12.text-\[10px\] {
  color: var(--videos-lcd-text-muted) !important;
}

:root[data-os-theme="macosx"] .videos-lcd .text-xl {
  color: var(--videos-lcd-text) !important;
}

/* Override animated title colors */
:root[data-os-theme="macosx"] .videos-lcd .animated-title-text {
  color: var(--videos-lcd-text) !important;
}

/* Fade edges tuned for LCD background instead of black */
:root[data-os-theme="macosx"] .videos-lcd .videos-lcd-fade-left {
  background-image: linear-gradient(
    to right,
    var(--videos-lcd-bg),
    rgba(0, 0, 0, 0)
  ) !important;
}
:root[data-os-theme="macosx"] .videos-lcd .videos-lcd-fade-right {
  background-image: linear-gradient(
    to left,
    var(--videos-lcd-bg),
    rgba(0, 0, 0, 0)
  ) !important;
}

/* macOS select styling - similar to aqua buttons */
:root[data-os-theme="macosx"] select {
  font-family: "LucidaGrande", "Lucida Grande", "Hiragino Sans",
    "Hiragino Sans GB", "Heiti SC", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", sans-serif !important;
  font-size: 14px !important;
  line-height: 1;
  height: 22px;
  padding: 2px 24px 2px 8px;
  min-width: 60px;
  border-radius: 6px;
  position: relative;
  overflow: hidden;
  cursor: default;
  outline: none;
  border: none;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  white-space: nowrap;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
  background: linear-gradient(
    rgba(160, 160, 160, 0.625),
    rgba(255, 255, 255, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(0, 0, 0, 0.3);
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 2L6 7L11 2' stroke='%23333' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-position: right 6px center;
  background-repeat: no-repeat;
  color: black;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.5);
}

/* Top shine/gloss for macOS select */
:root[data-os-theme="macosx"] select:before,
:root[data-os-theme="macosx"] .macos-select-trigger:before {
  content: "";
  position: absolute;
  left: 1px;
  right: 1px;
  height: 40%;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.3)
  );
  border-radius: 5px 5px 2px 2px;
  top: 0px;
  pointer-events: none;
  z-index: 1;
}

/* Arrow indicator for macOS select */
:root[data-os-theme="macosx"] .macos-select-trigger:after {
  content: "";
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 8px;
  height: 10px;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='8' height='10' viewBox='0 0 8 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 3.5L4 1L7 3.5M1 6.5L4 9L7 6.5' stroke='%23333' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
  z-index: 2;
}

/* Suppress arrow for aqua-select-styled buttons that opt out */
:root[data-os-theme="macosx"] .macos-select-trigger.no-chevron::after {
  content: none !important;
  background: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Default border radius for standalone aqua-select buttons */
:root[data-os-theme="macosx"] .aqua-select-btn {
  border-radius: 6px !important;
}

/* Ensure the gloss effect matches the border radius for standalone buttons */
:root[data-os-theme="macosx"] .aqua-select-btn:before {
  border-radius: 5px 5px 2px 2px !important;
}

/* Button group styling for aqua-select buttons: only first/last rounded */
:root[data-os-theme="macosx"] .aqua-select-group .aqua-select-btn {
  border-radius: 0 !important;
}
:root[data-os-theme="macosx"] .aqua-select-group .aqua-select-btn:first-child {
  border-top-left-radius: 6px !important;
  border-bottom-left-radius: 6px !important;
}
:root[data-os-theme="macosx"] .aqua-select-group .aqua-select-btn:last-child {
  border-top-right-radius: 6px !important;
  border-bottom-right-radius: 6px !important;
}

/* Match aqua select top gloss ::before to grouped corners */
:root[data-os-theme="macosx"] .aqua-select-group .aqua-select-btn::before {
  /* middle buttons: no top rounding */
  border-top-left-radius: 0 !important;
  border-top-right-radius: 0 !important;
}
:root[data-os-theme="macosx"]
  .aqua-select-group
  .aqua-select-btn:first-child::before {
  border-top-left-radius: 6px !important;
  border-top-right-radius: 0 !important;
}
:root[data-os-theme="macosx"]
  .aqua-select-group
  .aqua-select-btn:last-child::before {
  border-top-left-radius: 0 !important;
  border-top-right-radius: 6px !important;
}

/* Compact Aqua select button widths for grouped playback controls */
:root[data-os-theme="macosx"] .aqua-select-btn.aqua-compact {
  min-width: 36px !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
}

:root[data-os-theme="macosx"] .aqua-select-btn.aqua-compact-wide {
  min-width: 42px !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
}

/* Selected state visual for Aqua select buttons (darker gradient + stronger outline) */
:root[data-os-theme="macosx"] .aqua-select-btn.aqua-selected {
  background: linear-gradient(
    rgb(145 153 156 / 91%),
    rgb(184 188 192 / 80%)
  ) !important;
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.22), 0 1px 1px rgba(0, 0, 0, 0.32),
    0 0 0 1px rgba(0, 0, 0, 0.42) !important;
}

:root[data-os-theme="macosx"] select:focus {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 3px var(--os-color-selection-glow);
  outline: none;
}

:root[data-os-theme="macosx"] select:active {
  background: linear-gradient(
    rgba(140, 140, 140, 0.625),
    rgba(235, 235, 235, 0.625)
  );
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3),
    inset 0 1px 1px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.2);
}

/* System 7 specific select styling with retro borders */
:root[data-os-theme="system7"] select {
  font-family: "ChicagoKare", Geneva, -apple-system, BlinkMacSystemFont,
    sans-serif !important;
  font-size: 12px !important;
  border: 2px inset #c0c0c0;
  background-color: #ffffff;
  padding: 2px 4px;
  border-radius: 0;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  box-shadow: inset -1px -1px #000000, inset 1px 1px #dfdfdf;
}

:root[data-os-theme="system7"] select:focus {
  outline: 1px dotted #000000;
  outline-offset: -2px;
}

/* Yosemite-style traffic lights - clean and simple */

/* macOS Titlebar Border Styling */
:root[data-os-theme="macosx"] .window.is-foreground .title-bar {
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border) !important;
}

/* Inactive window styling for macOS */
:root[data-os-theme="macosx"] .window:not(.is-foreground) .title-bar {
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border-inactive) !important;
}

:root[data-os-theme="macosx"] .window {
  border: var(--os-metrics-border-width) solid var(--os-color-window-border) !important;
}

:root[data-os-theme="macosx"] .window:not(.is-foreground) {
  border: var(--os-metrics-border-width) solid
    var(--os-color-window-border-inactive) !important;
}

/* Inactive selection palette for background windows (macOS) */
:root[data-os-theme="macosx"] .window:not(.is-foreground) {
  /* Use neutral gray selection when the window is not foreground */
  --os-color-selection-bg: rgba(131, 131, 131, 0.697);
  --os-color-selection-text: #fff;
  --os-color-selection-glow: rgba(0, 0, 0, 0.22);
}

/* Shadow utilities */
.shadow-os-window {
  box-shadow: var(--os-window-shadow);
}

/* Preserve iPod fonts in macOS theme */
:root[data-os-theme="macosx"] .ipod-force-font {
  font-family: inherit !important;
  font-size: 16px !important; /* Reset base font size */
}

:root[data-os-theme="macosx"] .ipod-force-font * {
  font-family: inherit !important;
  font-size: unset !important; /* Reset macOS overrides */
}

/* Reset div and p font sizes within iPod */
:root[data-os-theme="macosx"] .ipod-force-font div,
:root[data-os-theme="macosx"] .ipod-force-font p {
  font-size: unset !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-chicago,
:root[data-os-theme="macosx"] .font-chicago {
  font-family: "ChicagoKare", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: none !important;
  font-smooth: never !important;
}

/* Preserve Chicago font sizes */
:root[data-os-theme="macosx"] .ipod-force-font .font-chicago.text-xs {
  font-size: 0.75rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-chicago.text-\[12px\] {
  font-size: 12px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-chicago.text-\[16px\] {
  font-size: 16px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-chicago.text-\[20px\] {
  font-size: 20px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-chicago.text-xl {
  font-size: 1.25rem !important;
}

/* Preserve responsive Chicago font sizes */
:root[data-os-theme="macosx"]
  .ipod-force-font
  .font-chicago.text-\[min\(5vw\,5vh\)\] {
  font-size: min(5vw, 5vh) !important;
}

/* Preserve fullscreen lyrics responsive font size */
:root[data-os-theme="macosx"] .ipod-force-font .text-\[min\(8vw\,8vh\)\] {
  font-size: min(8vw, 8vh) !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .font-geneva-12,
:root[data-os-theme="macosx"] .synth-force-font .font-geneva-12 {
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: always !important;
  font-size: 12px !important;
}

/* Preserve rounded lyrics font inside iPod fullscreen on macOS theme */
:root[data-os-theme="macosx"] .ipod-force-font .font-lyrics-rounded {
  font-family: "SF Pro Rounded", "Arial Rounded MT Bold",
    "Hiragino Maru Gothic ProN", "Yuanti SC", "Nanum Gothic", sans-serif !important;
  font-weight: 400 !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* Outside iPod and Videos LCD, font-geneva-12 uses macOS system fonts */
:root[data-os-theme="macosx"]
  .font-geneva-12:not(.ipod-force-font .font-geneva-12):not(
    .videos-lcd .font-geneva-12
  ):not(.videos-player-controls .font-geneva-12):not(
    .synth-force-font .font-geneva-12
  ):not(.videos-status .font-geneva-12) {
  font-family: "LucidaGrande", "Lucida Grande", "Hiragino Sans",
    "Hiragino Sans GB", "Heiti SC", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* Preserve Videos StatusDisplay Geneva font and sizing */
:root[data-os-theme="macosx"] .videos-status .font-geneva-12 {
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: always !important;
}

:root[data-os-theme="macosx"] .videos-status .text-xl {
  font-size: 1.25rem !important;
}

/* Preserve specific iPod font sizes */
:root[data-os-theme="macosx"] .ipod-force-font .text-xs {
  font-size: 0.75rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-sm {
  font-size: 0.875rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-base {
  font-size: 1rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-lg {
  font-size: 1.125rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-xl {
  font-size: 1.25rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-2xl {
  font-size: 1.5rem !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-3xl {
  font-size: 1.875rem !important;
}

/* Preserve specific pixel-based font sizes used in iPod */
:root[data-os-theme="macosx"] .ipod-force-font .text-\[12px\] {
  font-size: 12px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-\[16px\] {
  font-size: 16px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-\[18px\] {
  font-size: 18px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-\[20px\] {
  font-size: 20px !important;
}

:root[data-os-theme="macosx"] .ipod-force-font .text-\[24px\] {
  font-size: 24px !important;
}

/* Preserve large desktop Hangul glyph size in iPod fullscreen */
@media (min-width: 768px) {
  :root[data-os-theme="macosx"] .ipod-force-font .md\:text-\[20px\] {
    font-size: 20px !important;
  }
}

/* Ensure responsive fullscreen lyrics beat the base Geneva-12 size rule */
:root[data-os-theme="macosx"]
  .ipod-force-font
  .font-geneva-12.text-\[min\(8vw\,8vh\)\] {
  font-size: min(8vw, 8vh) !important;
}

/* Larger option for fullscreen lyrics */
:root[data-os-theme="macosx"] .ipod-force-font .text-\[min\(10vw\,10vh\)\] {
  font-size: min(10vw, 10vh) !important;
}

:root[data-os-theme="macosx"]
  .ipod-force-font
  .font-geneva-12.text-\[min\(10vw\,10vh\)\] {
  font-size: min(10vw, 10vh) !important;
}

/* macOS dropdown menu item hover/focus styles */
:root[data-os-theme="macosx"] [role="menuitem"]:focus,
:root[data-os-theme="macosx"] [role="menuitemcheckbox"]:focus,
:root[data-os-theme="macosx"] [role="menuitemradio"]:focus,
:root[data-os-theme="macosx"] [role="option"]:focus,
:root[data-os-theme="macosx"] [role="option"][data-highlighted] {
  background-color: var(--os-color-selection-bg) !important;
  color: var(--os-color-selection-text) !important;
  outline: none !important;
}

/* Override the 11px font size for dropdown menu items */
:root[data-os-theme="macosx"] [role="menuitem"],
:root[data-os-theme="macosx"] [role="menuitemcheckbox"],
:root[data-os-theme="macosx"] [role="menuitemradio"],
:root[data-os-theme="macosx"] [role="option"] {
  font-size: 13px !important;
}

/* Enhanced shadow for macOS foreground windows */
:root[data-os-theme="macosx"] .shadow-os-window.is-foreground {
  box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6);
}

/* Lighter shadow for macOS background windows */
:root[data-os-theme="macosx"] .shadow-os-window:not(.is-foreground) {
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* macOS Theme Dialog Styling */
:root[data-os-theme="macosx"] .macosx-dialog {
  border-radius: 7.2px !important;
}

:root[data-os-theme="macosx"] .macosx-dialog-header {
  border-radius: 7.2px 7.2px 0px 0px !important;
}

/* macOS Aqua Tab Styles */
.aqua-tab {
  position: relative;
  border: 1px solid rgba(0, 0, 0, 0.3);
  border-radius: 6px 6px 0 0;
  transition: all 150ms;
  overflow: hidden;
  height: 28px;
  /* Inactive tab - shifted up from top */
  margin-top: 4px;
  /* Inactive tab (secondary aqua button style) */
  background: linear-gradient(rgb(197 197 197), rgb(255 255 255));
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1),
    inset 0 2px 3px 1px rgba(187, 187, 187, 0.8), 0 1px 1px rgba(0, 0, 0, 0.3);
  color: black;
  text-shadow: 0 2px 2px rgba(0, 0, 0, 0.25);
  font-size: 12px !important;
}

.aqua-tab:hover:not([data-state="active"]) {
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05),
    inset 0 2px 3px 1px rgba(187, 187, 187, 0.6), 0 1px 1px rgba(0, 0, 0, 0.2);
}

.aqua-tab[data-state="active"] {
  /* Active tab - no position shift or extension */
  margin-top: 0;
  z-index: 10;
  /* Active tab (primary aqua button style) */
  background: linear-gradient(
    rgb(48 123 201),
    rgb(152 189 228),
    rgb(210 255 255)
  );
  box-shadow: inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75), 0 2px 3px rgba(0, 0, 0, 0.3),
    0 1px 1px rgba(0, 78, 187, 0.5);
  text-shadow: 0 2px 2px rgba(30, 77, 161, 0.5);
  border-bottom: 1px solid rgb(210 255 255) !important;
  transition: border-bottom 0;
}

/* Top shine for aqua tabs */
.aqua-tab:before {
  content: "";
  position: absolute;
  left: 1px;
  right: 1px;
  top: 1px;
  height: 15%;
  background: linear-gradient(
    rgba(255, 255, 255, 0.55),
    rgba(255, 255, 255, 0.25)
  );
  border-radius: 4px 4px 0 0;
  pointer-events: none;
  z-index: 10;
}

/* Bottom glow for aqua tabs */
.aqua-tab:after {
  content: "";
  position: absolute;
  left: 1px;
  right: 1px;
  bottom: 0px;
  height: 20%;
  background: linear-gradient(transparent, rgba(255, 255, 255, 0.35));
  border-radius: 0 0 2px 2px;
  pointer-events: none;
  z-index: 10;
  filter: blur(1px);
}

/* Enhanced gloss for active state */
.aqua-tab[data-state="active"]:before {
  background: linear-gradient(
    rgba(255, 255, 255, 0.8),
    rgba(255, 255, 255, 0.35)
  );
}

.aqua-tab[data-state="active"]:after {
  background: linear-gradient(transparent, rgba(255, 255, 255, 0.45));
}

/* Aqua tab bar */
.aqua-tab-bar {
  position: relative;
  align-items: flex-end !important;
  justify-content: flex-start;
  /* Remove any default backgrounds */
  border-radius: 0 !important;
  padding-bottom: 0 !important;
}

.aqua-tab-bar:after {
  content: "";
  position: absolute;
  bottom: -5px;
  left: 0;
  right: 0;
  height: 6px;
  z-index: 3;
  background: linear-gradient(
    to bottom,
    #2260a4 0%,
    #e2fbfd 8%,
    #aecef3 25%,
    #7aafee 40%,
    #98ceff 60%,
    #9dcfff 80%,
    #74deff 100%
  );
  box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.aqua-tab-bar:before {
  content: none !important;
  background: none !important;
  box-shadow: none !important;
}

/* Remove default Tabs background for macOS */
:root[data-os-theme="macosx"] [role="tablist"].aqua-tab-bar {
  background: transparent !important;
}

:root[data-os-theme="macosx"] [data-radix-tabs-root] {
  background: transparent !important;
}

/* Remove any white backgrounds from Tabs component */
:root[data-os-theme="macosx"] [data-radix-tabs-root] > * {
  background: transparent !important;
}

:root[data-os-theme="macosx"] [role="tablist"] {
  background: transparent !important;
}

/* Specifically target the TabsList component container */
:root[data-os-theme="macosx"] .aqua-tab-bar:not(.aqua-tab) {
  background: transparent !important;
}

/* Aqua tab content - just borders, no top border since tab bar handles that */
.aqua-tab-content {
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-top: none;
  background: transparent;
}

/* AboutDialog title styling for macOS theme */
:root[data-os-theme="macosx"] .font-apple-garamond {
  font-family: "AppleGaramond", "Apple Garamond", "Times New Roman", serif !important;
  font-size: 1.5rem !important;
}

/* Ensure AboutDialog title doesn't get overridden by general div styles */
:root[data-os-theme="macosx"] .font-apple-garamond.text-2xl {
  font-size: 1.5rem !important;
  font-family: "AppleGaramond", "Apple Garamond", "Times New Roman", serif !important;
}

/* AboutDialog body text styling for macOS theme */
:root[data-os-theme="macosx"] .macosx-dialog p {
  font-size: 13px !important;
}

:root[data-os-theme="macosx"] .macosx-dialog .text-gray-500 {
  font-size: 11px !important;
}

/* Status bar specific sizing - force 10px and prevent global overrides */
:root[data-os-theme="macosx"] .os-status-bar,
:root[data-os-theme="macosx"] .os-status-bar-text {
  font-size: 11px !important;
  line-height: 1.2 !important;
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}
:root[data-os-theme="macosx"] .os-status-bar * {
  font-size: inherit !important;
  -webkit-font-smoothing: inherit !important;
  font-smooth: inherit !important;
}
/* Avoid geneva-12 macOS upscale by removing that class; ensure consistency if present */
:root[data-os-theme="macosx"] .os-status-bar .font-geneva-12,
:root[data-os-theme="macosx"] .os-status-bar-text .font-geneva-12 {
  font-size: 11px !important;
  font-family: inherit !important;
}

/* -------------------------------------------------- */
/* macOS Aqua Switch & Slider overrides                */
/* Make thumbs visually identical to .aqua-button primary/secondary */
/* -------------------------------------------------- */
:root[data-os-theme="macosx"] .os-switch {
  position: relative;
  border-radius: 9999px;
  background: linear-gradient(#d0d0d0, #f5f5f5);
  border: 1px solid rgba(0, 0, 0, 0.18); /* softened border */
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12),
    0 1px 0 rgba(255, 255, 255, 0.55);
  padding: 0 2px; /* room for thumb */
  height: 16px;
  width: 28px;
  transition: background 200ms, box-shadow 200ms;
}

/* Track when ON stays neutral; only thumb indicates state */
:root[data-os-theme="macosx"] .os-switch[data-state="checked"] {
  background: linear-gradient(#d0d0d0, #f5f5f5);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12),
    0 1px 0 rgba(255, 255, 255, 0.55);
}

/* Base thumb shape */
:root[data-os-theme="macosx"] .os-switch-thumb,
:root[data-os-theme="macosx"] .os-slider-thumb {
  position: relative;
  height: 14px;
  width: 14px;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  padding: 0;
  box-sizing: border-box;
  overflow: hidden; /* hide shine overflow */
}

/* Primary (ON / active) gradient & shadow identical to .aqua-button.primary */
:root[data-os-theme="macosx"] .os-switch[data-state="checked"] .os-switch-thumb,
:root[data-os-theme="macosx"] .os-slider-thumb {
  background: linear-gradient(
    rgba(0, 65, 184, 0.625),
    rgba(45, 115, 199, 0.625),
    rgba(33, 160, 196, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75);
}

/* Secondary (OFF) identical to .aqua-button.secondary */
:root[data-os-theme="macosx"]
  .os-switch:not([data-state="checked"])
  .os-switch-thumb {
  background: linear-gradient(
    rgba(160, 160, 160, 0.625),
    rgba(255, 255, 255, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 3px 1px #bbbbbb;
}

/* Shine (top) pseudo element */
:root[data-os-theme="macosx"] .os-switch-thumb:before,
:root[data-os-theme="macosx"] .os-slider-thumb:before {
  content: "";
  position: absolute;
  inset: 1px 1px auto 1px;
  height: 30%;
  border-radius: 9999px;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.3)
  );
  z-index: 2;
  pointer-events: none;
  width: 50%;
  margin: 0 auto;
}

/* Bottom glow */
:root[data-os-theme="macosx"] .os-switch-thumb:after,
:root[data-os-theme="macosx"] .os-slider-thumb:after {
  content: "";
  position: absolute;
  inset: auto 1px 1px 1px;
  height: 40%;
  width: 80%;
  border-radius: 9999px;
  background: linear-gradient(
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.5)
  );
  filter: blur(0.5px);
  z-index: 1;
  pointer-events: none;
  margin: 0 auto;
}

/* Slider track */
:root[data-os-theme="macosx"] .os-slider-track {
  background: linear-gradient(
    to right,
    #d0d0d0,
    #f5f5f5
  ) !important; /* horizontal */
  border: 1px solid rgba(0, 0, 0, 0.18); /* softened */
  border-radius: 9999px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12),
    inset 0 2px 3px rgba(255, 255, 255, 0.45);
  position: relative;
}

:root[data-os-theme="macosx"] .os-slider-range {
  background: linear-gradient(
    to right,
    #bdbdbd,
    #ebebeb
  ) !important; /* neutral gray fill horizontal */
}

/* -------------------------------------------------- */
/* macOS Chat bubble aqua style */
/* -------------------------------------------------- */
:root[data-os-theme="macosx"] .chat-bubble {
  position: relative;
  border-radius: 16px !important; /* match aqua-button */
  /* Enhanced shadow with subtle outer lift and multi-layer inset stroke similar to traffic lights */
  box-shadow:
    /* outer shadows */ 0 2px 4px rgba(0, 0, 0, 0.14),
    0 1px 1px rgba(0, 0, 0, 0.25),
    /* inner highlight (top) */ inset 0 1px 2px rgba(255, 255, 255, 0.6),
    /* soft inner ambient */ inset 0 0 4px rgba(0, 0, 0, 0.05),
    /* crisp inner stroke */ inset 0 0 0 0.5px rgba(0, 0, 0, 0.48),
    /* existing light outline */ inset 0 0 0 1px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  padding-top: 6px !important;
  padding-bottom: 6px !important;
  padding-left: 12px !important;
  padding-right: 12px !important;
  -webkit-font-smoothing: antialiased;
  text-shadow: 0 2px 2px rgba(0, 0, 0, 0.07);
  min-height: 29.875px;
  font-size: var(
    --chat-bubble-font-size,
    13px
  ) !important; /* allow dynamic sizing */
}

/* -------------------------------------------------- */
/* System 7 chat bubble typography tweaks */
/* -------------------------------------------------- */
:root[data-os-theme="system7"] .chat-bubble {
  line-height: 1.35 !important;
}

/* Top shine: reuse semi-transparent white so underlying role color shows */
:root[data-os-theme="macosx"] .chat-bubble:before {
  /* top adjusted from 1px to 2px */
  content: "";
  position: absolute;
  left: 6px;
  right: 6px;
  top: 2px;
  filter: blur(0.5px);
  height: 12px;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.25)
  );
  border-radius: 16px 16px 4px 4px;
  pointer-events: none;
  z-index: 1;
}

/* Bottom glow */
:root[data-os-theme="macosx"] .chat-bubble:after {
  content: "";
  position: absolute;
  left: 0px;
  right: 0px;
  bottom: 0px;
  height: 20px;
  background: linear-gradient(
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.45)
  );
  border-radius: 4px;
  filter: blur(0.6px);
  pointer-events: none;
  z-index: 1;
}

/* Ensure inner text stays above shine */
:root[data-os-theme="macosx"] .chat-bubble > * {
  position: relative;
  z-index: 2;
}

/* macOS chat bubble background overrides (medium Aqua shades, lightened one level) */
:root[data-os-theme="macosx"] .chat-bubble.bg-yellow-100 {
  background-color: #fde68a !important; /* amber-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-blue-100 {
  background-color: #bfdbfe !important; /* blue-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-pink-200 {
  background-color: #fbcfe8 !important; /* pink-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-purple-200 {
  background-color: #e9d5ff !important; /* purple-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-indigo-200 {
  background-color: #c7d2fe !important; /* indigo-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-teal-100 {
  background-color: #99f6e4 !important; /* teal-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-lime-100 {
  background-color: #d9f99d !important; /* lime-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-amber-100 {
  background-color: #fde68a !important; /* amber-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-cyan-100 {
  background-color: #a5f3fc !important; /* cyan-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-rose-100 {
  background-color: #fecdd3 !important; /* rose-200 */
}
:root[data-os-theme="macosx"] .chat-bubble.bg-gray-100 {
  background-color: #e5e7eb !important; /* gray-200 */
}

:root[data-os-theme="macosx"] .macosx-link-preview.chat-bubble:before {
  top: 2px; /* extend shine to very top when image flush */
  left: 8px;
  right: 8px;
  filter: blur(0.5px);
  border-radius: 14px 14px 4px 4px;
  z-index: 10; /* above image */
}

/* macOS Memory/Progress bar styling */
:root[data-os-theme="macosx"] .aqua-progress {
  position: relative;
  background: linear-gradient(#d0d0d0, #f5f5f5); /* match switch track */
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.18),
    inset 0 1px 2px rgba(0, 0, 0, 0.12), 0 1px 0 rgba(255, 255, 255, 0.55);
  border-radius: 9999px;
  overflow: hidden;
}

:root[data-os-theme="macosx"] .aqua-progress-fill {
  position: relative;
  height: 100%;
  border-radius: 9999px; /* fully rounded */
  background: linear-gradient(
    to bottom,
    #2260a4 0%,
    #e2fbfd 8%,
    #aecef3 25%,
    #7aafee 40%,
    #98ceff 60%,
    #9dcfff 80%,
    #74deff 100%
  );
  box-shadow: inset 0 0 0 0.5px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(0, 0, 0, 0.3), inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

/* -------------------------------------------------- */
/* Sonner Toaster theme-aware typography               */
/* Use OS theme font variables instead of per-component overrides */
/* -------------------------------------------------- */
.toaster {
  font-family: var(--os-font-ui) !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* System 7: use Geneva-12 for toasts */
:root[data-os-theme="system7"] .toaster {
  font-family: var(--font-geneva-12) !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: always !important;
}

/* macOS: Style toast containers with semi-transparent pinstripes like dock */
:root[data-os-theme="macosx"] .toaster [data-sonner-toast] {
  background: rgba(248, 248, 248, 0.75) !important;
  background-image: var(--os-pinstripe-menubar) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  border: none !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Ensure toast text is readable on semi-transparent background */
:root[data-os-theme="macosx"] .toaster [data-sonner-toast] [data-title],
:root[data-os-theme="macosx"] .toaster [data-sonner-toast] [data-description] {
  color: rgba(0, 0, 0, 0.9) !important;
}

/* macOS: Style toast buttons with aqua button */
:root[data-os-theme="macosx"] .toaster [data-button],
:root[data-os-theme="macosx"] .toaster button:not([data-close-button]) {
  line-height: 1;
  height: 28px;
  padding: 0 16px;
  min-width: auto;
  border-radius: 14px;
  position: relative;
  overflow: hidden;
  cursor: default;
  outline: none;
  border: none;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  -webkit-font-smoothing: antialiased;
  font-smooth: auto;
  background: linear-gradient(
    rgba(0, 65, 184, 0.625),
    rgba(45, 115, 199, 0.625),
    rgba(33, 160, 196, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75);
  color: black;
  text-shadow: 0 2px 2px rgba(30, 77, 161, 0.5);
  font-weight: 500;
  position: relative;
  z-index: 3;
}

:root[data-os-theme="macosx"] .toaster [data-button]:focus,
:root[data-os-theme="macosx"] .toaster [data-button]:active,
:root[data-os-theme="macosx"] .toaster button:not([data-close-button]):focus,
:root[data-os-theme="macosx"] .toaster button:not([data-close-button]):active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75), 0 0 3px rgba(52, 106, 227, 0.5);
}

/* Top shine for toast buttons */
:root[data-os-theme="macosx"] .toaster [data-button]:before,
:root[data-os-theme="macosx"] .toaster button:not([data-close-button]):before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  max-height: 12px;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.3)
  );
  width: calc(100% - 10px);
  border-radius: 12px 12px 2px 2px;
  top: 2px;
  filter: blur(0.5px);
  z-index: 2;
  pointer-events: none;
}

/* Bottom glow for toast buttons */
:root[data-os-theme="macosx"] .toaster [data-button]:after,
:root[data-os-theme="macosx"] .toaster button:not([data-close-button]):after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  background: linear-gradient(rgba(255, 255, 255, 0), rgb(255, 255, 255, 0.5));
  width: calc(100% - 8px);
  border-radius: 4px;
  bottom: 2px;
  filter: blur(1px);
  pointer-events: none;
}

/* ============================================ */
/* OS1 Theme - macOS 26  */
/* ============================================ */
:root[data-os-theme="os1"] {
  --os-font-ui: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
    "Helvetica Neue", Arial, sans-serif;
  --os-font-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas,
    "Courier New", monospace;
  --os-color-window-bg: rgba(255, 255, 255, 0.85);
  --os-color-menubar-bg: rgba(255, 255, 255, 0.7);
  --os-color-menubar-border: rgba(0, 0, 0, 0.08);
  --os-color-menubar-text: #1d1d1f;
  --os-color-window-border: rgba(0, 0, 0, 0.08);
  --os-color-window-border-inactive: rgba(0, 0, 0, 0.05);
  --os-color-titlebar-border: rgba(0, 0, 0, 0.06);
  --os-color-titlebar-border-inactive: rgba(0, 0, 0, 0.04);
  --os-color-titlebar-active-bg: rgba(255, 255, 255, 0.8);
  --os-color-titlebar-inactive-bg: rgba(240, 240, 240, 0.7);
  --os-color-titlebar-text: #1d1d1f;
  --os-color-titlebar-text-inactive: #86868b;
  --os-color-button-face: rgba(255, 255, 255, 0.9);
  --os-color-button-highlight: rgba(255, 255, 255, 0.95);
  --os-color-button-shadow: rgba(0, 0, 0, 0.06);
  --os-color-button-active-face: rgba(240, 240, 240, 0.9);
  --os-color-traffic-light-close: #ff5f57;
  --os-color-traffic-light-minimize: #ffbd2e;
  --os-color-traffic-light-maximize: #28c840;
  --os-color-selection-bg: rgba(0, 122, 255, 0.3);
  --os-color-selection-text: #007aff;
  --os-color-selection-glow: rgba(0, 122, 255, 0.2);
  --os-color-text-primary: #1d1d1f;
  --os-color-text-secondary: #86868b;
  --os-color-text-disabled: #c7c7cc;
  --os-metrics-border-width: 1px;
  --os-metrics-radius: 0.75rem;
  --os-metrics-titlebar-height: 1.5rem;
  --os-metrics-titlebar-border-width: 1px;
  --os-metrics-menubar-height: 1.5rem;
  --os-window-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08);
}

/*  */
:root[data-os-theme="os1"] .window:not(.is-foreground) {
  --os-color-selection-bg: rgba(0, 122, 255, 0.15);
  --os-color-selection-text: #007aff;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] body {
  font-family: var(--os-font-ui) !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  font-smooth: auto !important;
  font-size: 14px !important;
  font-weight: 400 !important;
}

:root[data-os-theme="os1"] * {
  font-family: inherit;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .menubar {
  font-size: 14px !important;
  font-weight: 400 !important;
  background: var(--os-color-menubar-bg) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  border-bottom: 1px solid var(--os-color-menubar-border) !important;
  color: var(--os-color-menubar-text) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .title-bar {
  font-size: 13px !important;
  font-weight: 500 !important;
  background: var(--os-color-titlebar-active-bg) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  color: var(--os-color-titlebar-text) !important;
}

:root[data-os-theme="os1"] .window.is-foreground .title-bar {
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border) !important;
}

:root[data-os-theme="os1"] .window:not(.is-foreground) .title-bar {
  background: var(--os-color-titlebar-inactive-bg) !important;
  backdrop-filter: blur(15px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(15px) saturate(150%) !important;
  color: var(--os-color-titlebar-text-inactive) !important;
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border-inactive) !important;
}

:root[data-os-theme="os1"] .os1-title-bar {
  border-radius: 12px 12px 0px 0px;
  transition: background 0.2s ease, color 0.2s ease, opacity 0.2s ease,
    backdrop-filter 0.2s ease;
}

:root[data-os-theme="os1"] .os1-title-text {
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: -0.01em;
  text-shadow: none;
}

:root[data-os-theme="os1"] .os1-window-controls {
  gap: 0.375rem; /* macOS 26  */
}

:root[data-os-theme="os1"] .os1-window-controls button {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 50%;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0;
  transition: all 0.2s ease;
  outline: none;
  opacity: 0.8;
}

:root[data-os-theme="os1"] .os1-window-controls button:hover {
  opacity: 1;
  transform: scale(1.1);
}

:root[data-os-theme="os1"] .os1-window-controls button:active {
  opacity: 0.9;
  transform: scale(0.95);
}

:root[data-os-theme="os1"] .os1-window-controls.inactive button {
  opacity: 0.5;
}

:root[data-os-theme="os1"] .os1-window-control--close {
  background: var(--os-color-traffic-light-close);
}

:root[data-os-theme="os1"] .os1-window-control--close:hover {
  background: var(--os-color-traffic-light-close);
  box-shadow: 0 0 0 2px rgba(255, 95, 87, 0.2);
}

:root[data-os-theme="os1"] .os1-window-control--close:active {
  background: #e14640;
}

:root[data-os-theme="os1"] .os1-window-controls.inactive .os1-window-control--close {
  background: rgba(0, 0, 0, 0.15);
  opacity: 0.4;
}

:root[data-os-theme="os1"] .os1-window-control--ghost {
  background: var(--os-color-traffic-light-minimize);
}

:root[data-os-theme="os1"] .os1-window-control--ghost:last-of-type {
  background: var(--os-color-traffic-light-maximize);
}

:root[data-os-theme="os1"] .os1-window-control--ghost:hover {
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
}

:root[data-os-theme="os1"] .os1-window-control-icon {
  display: none; /* macOS 26  */
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .window {
  border: var(--os-metrics-border-width) solid var(--os-color-window-border) !important;
  border-radius: var(--os-metrics-radius) !important;
  background: var(--os-color-window-bg) !important;
  backdrop-filter: blur(30px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(180%) !important;
  overflow: hidden !important;
}

:root[data-os-theme="os1"] .window:not(.is-foreground) {
  border-color: var(--os-color-window-border-inactive) !important;
  backdrop-filter: blur(20px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] button:not(.aqua-button):not(.aqua-tab):not(.os1-window-control):not(.os-switch):not([role="switch"]):not([role="tab"]):not(.dock-icon-button) {
  font-size: 13px !important;
  font-weight: 500 !important;
  border-radius: 0.5rem !important;
  background: var(--os-color-button-face) !important;
  backdrop-filter: blur(10px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(150%) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  color: var(--os-color-text-primary) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

:root[data-os-theme="os1"] button:not(.aqua-button):not(.aqua-tab):not(.os1-window-control):not(.os-switch):not([role="switch"]):not([role="tab"]):not(.dock-icon-button):hover {
  background: rgba(255, 255, 255, 0.95) !important;
  border-color: rgba(0, 0, 0, 0.12) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08) !important;
  transform: translateY(-1px) !important;
}

:root[data-os-theme="os1"] button:not(.aqua-button):not(.aqua-tab):not(.os1-window-control):not(.os-switch):not([role="switch"]):not([role="tab"]):not(.dock-icon-button):active {
  background: var(--os-color-button-active-face) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06) !important;
  transform: translateY(0) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] input,
:root[data-os-theme="os1"] textarea,
:root[data-os-theme="os1"] select {
  font-size: 13px !important;
  border-radius: 0.5rem !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(10px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(150%) !important;
  color: var(--os-color-text-primary) !important;
  padding: 0.5rem 0.75rem !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04) !important;
  transition: all 0.2s ease !important;
}

:root[data-os-theme="os1"] input:focus,
:root[data-os-theme="os1"] textarea:focus,
:root[data-os-theme="os1"] select:focus {
  outline: none !important;
  border-color: #007aff !important;
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15) !important;
  background: rgba(255, 255, 255, 0.95) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .chat-bubble {
  border-radius: 1rem !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .shadow-os-window.is-foreground {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08) !important;
}

:root[data-os-theme="os1"] .shadow-os-window:not(.is-foreground) {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] [role="menuitem"]:focus,
:root[data-os-theme="os1"] [role="menuitemcheckbox"]:focus,
:root[data-os-theme="os1"] [role="menuitemradio"]:focus,
:root[data-os-theme="os1"] [role="option"]:focus,
:root[data-os-theme="os1"] [role="option"][data-highlighted] {
  background-color: var(--os-color-selection-bg) !important;
  color: var(--os-color-selection-text) !important;
  outline: none !important;
  border-radius: 0.375rem !important;
}

/* OS1  - macOS 26 */
:root[data-os-theme="os1"] label {
  font-size: 12px !important;
  color: var(--os-color-text-primary) !important;
  font-weight: 500 !important;
  letter-spacing: -0.01em !important;
}

:root[data-os-theme="os1"] p,
:root[data-os-theme="os1"] div {
  font-size: 14px !important;
  color: var(--os-color-text-primary) !important;
  line-height: 1.5 !important;
  letter-spacing: -0.01em !important;
}

/* OS1  */
:root[data-os-theme="os1"] .terminal-input {
  font-family: var(--os-font-mono) !important;
  font-size: inherit !important;
  line-height: inherit !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* OS1  -  */
:root[data-os-theme="os1"] .terminal-container,
:root[data-os-theme="os1"] .terminal-container * {
  color: #ffffff !important;
}

/*  Terminal  div  p  */
:root[data-os-theme="os1"] .terminal-container div,
:root[data-os-theme="os1"] .terminal-container p {
  color: #ffffff !important;
}

/*  AI  */
:root[data-os-theme="os1"] .terminal-container .text-green-400 {
  color: rgb(74, 222, 128) !important; /* green-400 */
}

:root[data-os-theme="os1"] .terminal-container .text-purple-400 {
  color: rgb(192, 132, 252) !important; /* purple-400 */
}

:root[data-os-theme="os1"] .terminal-container .text-gray-400,
:root[data-os-theme="os1"] .terminal-container .text-gray-500 {
  color: rgb(156, 163, 175) !important; /* gray-400/500 */
}

:root[data-os-theme="os1"] .terminal-container .text-red-400 {
  color: rgb(248, 113, 113) !important; /* red-400 */
}

:root[data-os-theme="os1"] .terminal-container .text-purple-100 {
  color: rgb(243, 232, 255) !important; /* purple-100 */
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] select {
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%23007AFF' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") !important;
  background-position: right 0.75rem center !important;
  background-repeat: no-repeat !important;
  padding-right: 2.5rem !important;
}

/* OS1 Control Panels  -  macOS  */
:root[data-os-theme="os1"] .control-panels-os1 {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(30px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(180%) !important;
}

/* OS1 Control Panels  -  macOS  */
:root[data-os-theme="os1"] .control-panels-os1 [role="tabpanel"] {
  background: rgba(255, 255, 255, 0.98) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  /*  macOS */
  border-radius: 0 !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  border-top: none !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
  margin-top: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
}

/* OS1 Control Panels  */
:root[data-os-theme="os1"] .control-panels-os1 label {
  font-size: 13px !important;
  font-weight: 500 !important;
  color: rgba(0, 0, 0, 0.85) !important;
  letter-spacing: -0.01em !important;
}

:root[data-os-theme="os1"] .control-panels-os1 label.text-gray-600 {
  font-size: 11px !important;
  font-weight: 400 !important;
  color: rgba(0, 0, 0, 0.5) !important;
  line-height: 1.4 !important;
}

/* OS1 Control Panels  */
:root[data-os-theme="os1"] .control-panels-os1 hr,
:root[data-os-theme="os1"] .control-panels-os1 .border-t {
  border-color: rgba(0, 0, 0, 0.08) !important;
  border-width: 1px !important;
}

/* OS1 Control Panels  */
:root[data-os-theme="os1"] .control-panels-os1 [role="combobox"],
:root[data-os-theme="os1"] .control-panels-os1 button[role="combobox"] {
  background: rgba(255, 255, 255, 0.9) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 6px !important;
  padding: 6px 32px 6px 12px !important;
  font-size: 13px !important;
  font-weight: 400 !important;
  color: rgba(0, 0, 0, 0.85) !important;
  transition: all 0.15s ease !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .control-panels-os1 [role="combobox"]:hover,
:root[data-os-theme="os1"] .control-panels-os1 button[role="combobox"]:hover {
  background: rgba(255, 255, 255, 1) !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06) !important;
}

:root[data-os-theme="os1"] .control-panels-os1 [role="combobox"][data-state="open"],
:root[data-os-theme="os1"] .control-panels-os1 button[role="combobox"][data-state="open"] {
  background: rgba(255, 255, 255, 1) !important;
  border-color: rgba(0, 122, 255, 0.5) !important;
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06) !important;
}

/* OS1 Switch  */
:root[data-os-theme="os1"] .os-switch {
  width: 51px !important;
  height: 22px !important;
  border: none !important;
  border-radius: 999px !important;
  padding: 0 !important;
  overflow: hidden !important;
  position: relative !important;
  display: inline-flex !important;
  align-items: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

:root[data-os-theme="os1"] .os-switch[data-state="unchecked"] {
  background: rgba(0, 0, 0, 0.1) !important;
}

:root[data-os-theme="os1"] .os-switch[data-state="checked"] {
  background: #0091FF !important;
}

:root[data-os-theme="os1"] .os-switch-thumb {
  width: 31px !important;
  height: 19px !important;
  border-radius: 100px !important;
  background: #FFFFFF !important;
  position: absolute !important;
  top: 50% !important;
  left: 2px !important;
  transform: translateY(-50%) !important;
  transition: left 0.2s ease, right 0.2s ease !important;
  pointer-events: none !important;
}

:root[data-os-theme="os1"] .os-switch[data-state="checked"] .os-switch-thumb {
  left: auto !important;
  right: 2px !important;
}

/* OS1 Control Panels  */
/* OS1 Control Panels  -  */
:root[data-os-theme="os1"] .control-panels-os1 [role="tablist"] {
  position: relative;
  background: transparent !important; /*  */
  border-bottom: 1px solid rgba(0, 0, 0, 0.08) !important;
  padding: 0 16px !important; /*  padding  */
  gap: 0 !important;
  margin-top: 16px !important; /*  */
  justify-content: center !important; /*  */
  /*  */
  align-items: flex-start !important;
}

/* OS1 Control Panels  -  */
:root[data-os-theme="os1"] .control-panels-os1 [role="tab"] {
  position: relative;
  /*  */
  margin-top: 0 !important;
  margin-bottom: -1px !important;
  /*  */
  border-radius: 12px 12px 0 0 !important;
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
  /*  */
  background: transparent !important;
  border: none !important;
  border-bottom: none !important;
  padding: 8px 20px !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  color: rgba(0, 0, 0, 0.6) !important;
  transition: all 0.15s ease !important;
  /*  */
  margin-left: 0 !important;
  margin-right: 0 !important;
  flex-shrink: 0 !important;
  overflow: hidden;
}

/*  hover  */
:root[data-os-theme="os1"] .control-panels-os1 [role="tab"]:hover:not([data-state="active"]) {
  color: rgba(0, 0, 0, 0.8) !important;
  /* hover  */
  background: transparent !important;
}

/*  -  */
:root[data-os-theme="os1"] .control-panels-os1 [role="tab"][data-state="active"] {
  /*  */
  margin-top: 0 !important;
  /*  */
  z-index: 10 !important;
  position: relative !important;
  /*  */
  color: rgba(0, 0, 0, 0.9) !important;
  border-bottom: 2px solid #007AFF !important;
  background: transparent !important;
}

/* OS1 Control Panels  */
:root[data-os-theme="os1"] .control-panels-os1 button:not([role="switch"]):not([role="combobox"]):not([role="tab"]) {
  background: rgba(0, 122, 255, 0.1) !important;
  border: 1px solid rgba(0, 122, 255, 0.2) !important;
  border-radius: 6px !important;
  padding: 6px 16px !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  color: #007AFF !important;
  transition: all 0.15s ease !important;
}

:root[data-os-theme="os1"] .control-panels-os1 button:not([role="switch"]):not([role="combobox"]):not([role="tab"]):hover {
  background: rgba(0, 122, 255, 0.15) !important;
  border-color: rgba(0, 122, 255, 0.3) !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

:root[data-os-theme="os1"] ::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.03);
  border-radius: 5px;
}

:root[data-os-theme="os1"] ::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 5px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

:root[data-os-theme="os1"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
  background-clip: padding-box;
}

/* OS1  - macOS 26  */
/*  dropdown-menu.tsx  */

/* OS1  */
:root[data-os-theme="os1"] [role="menuitem"]:hover,
:root[data-os-theme="os1"] [role="menuitem"][data-highlighted],
:root[data-os-theme="os1"] [role="menuitem"]:focus {
  background-color: rgba(0, 122, 255, 0.1) !important;
  color: #007aff !important;
  outline: none !important;
}

/* OS1  -  fill */
:root[data-os-theme="os1"] .menubar button,
:root[data-os-theme="os1"] .menubar button[class*="ghost"],
:root[data-os-theme="os1"] .menubar [role="button"] {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  border-radius: 6px !important;
  padding: 4px 8px !important;
  transition: background-color 0.15s ease !important;
  font-weight: 500 !important;
  letter-spacing: -0.01em !important;
  color: inherit !important;
  /*  ring  focus  */
  --tw-ring-width: 0 !important;
  --tw-ring-offset-width: 0 !important;
  --tw-ring-color: transparent !important;
}

/*  focus-visible  ring */
:root[data-os-theme="os1"] .menubar button:focus-visible,
:root[data-os-theme="os1"] .menubar button[class*="ghost"]:focus-visible,
:root[data-os-theme="os1"] .menubar [role="button"]:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  --tw-ring-width: 0 !important;
  --tw-ring-offset-width: 0 !important;
}

/* OS1  -  */
:root[data-os-theme="os1"] .menubar button:hover,
:root[data-os-theme="os1"] .menubar [role="menuitem"]:hover,
:root[data-os-theme="os1"] .menubar [role="button"]:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
  border-radius: 6px !important;
  transition: background-color 0.15s ease !important;
}

/* OS1 / -  */
:root[data-os-theme="os1"] .menubar button:active,
:root[data-os-theme="os1"] .menubar button[aria-expanded="true"],
:root[data-os-theme="os1"] .menubar button[data-state="open"],
:root[data-os-theme="os1"] .menubar [role="menuitem"]:active,
:root[data-os-theme="os1"] .menubar [role="button"]:active,
:root[data-os-theme="os1"] .menubar [role="button"][aria-expanded="true"] {
  background-color: rgba(0, 0, 0, 0.12) !important;
  border-radius: 6px !important;
}

/* OS1  */
:root[data-os-theme="os1"] [role="menuitem"] svg,
:root[data-os-theme="os1"] [role="menuitem"] img {
  opacity: 0.8;
  width: 16px;
  height: 16px;
}

/* OS1  */
:root[data-os-theme="os1"] [data-radix-dropdown-menu-shortcut] {
  color: rgba(0, 0, 0, 0.5);
  font-size: 11px;
  letter-spacing: 0.05em;
  margin-left: auto;
  padding-left: 16px;
}

/* OS1 Dock  -  */
/*  Dock  */
:root[data-os-theme="os1"] .os1-dock button.dock-icon-button:not(.aqua-button):not(.aqua-tab):not(.os1-window-control),
:root[data-os-theme="os1"] .os1-dock .dock-icon-button:not(.aqua-button):not(.aqua-tab):not(.os1-window-control) {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  font-size: inherit !important;
  font-weight: inherit !important;
  color: inherit !important;
  transform: none !important;
}

:root[data-os-theme="os1"] .os1-dock button.dock-icon-button:hover {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  transform: none !important;
}

:root[data-os-theme="os1"] .os1-dock button.dock-icon-button:active {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  transform: none !important;
}

/*  */
:root[data-os-theme="os1"] .os1-dock button img,
:root[data-os-theme="os1"] .os1-dock button .themed-icon,
:root[data-os-theme="os1"] .os1-dock [class*="dock-icon"] button img,
:root[data-os-theme="os1"] .os1-dock [class*="dock-icon"] button .themed-icon,
:root[data-os-theme="os1"] .os1-dock button > span:not([aria-hidden]),
:root[data-os-theme="os1"] .os1-dock [class*="dock-icon"] button > span:not([aria-hidden]) {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/*  -  */
:root[data-os-theme="os1"] .os1-dock button > span[aria-hidden="true"],
:root[data-os-theme="os1"] .os1-dock [class*="dock-icon"] button > span[aria-hidden="true"] {
  /*  */
  /*  */
  background: transparent !important;
  background-color: rgba(0, 0, 0, 0.6) !important;
  border: none !important;
  border-radius: 50% !important;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.3), 0 0 2px rgba(0, 0, 0, 0.2) !important;
  padding: 0 !important;
  margin: 0 !important;
  width: 5px !important;
  height: 5px !important;
  /*  */
  bottom: 6px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  position: absolute !important;
}

/* OS1 Dock  -  */
:root[data-os-theme="os1"] .os1-dock [class*="dock-icon"],
:root[data-os-theme="os1"] .os1-dock > div > div,
:root[data-os-theme="os1"] .os1-dock > div > div[style*="transformOrigin"],
:root[data-os-theme="os1"] .os1-dock > div > div > div {
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* ============================================ */
/* OS1 Chat  - macOS 26  */
/* ============================================ */

/*  - macOS  */
:root[data-os-theme="os1"] .os1-message-bubble-sent {
  background: rgba(0, 122, 255, 0.9) !important;
  color: #ffffff !important;
  border: none !important;
  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3), 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/*  -  */
:root[data-os-theme="os1"] .os1-message-bubble-received {
  background: rgba(240, 240, 240, 0.9) !important;
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-room-sidebar {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-messages-meta {
  font-size: 11px !important;
  color: rgba(0, 0, 0, 0.4) !important;
  font-weight: 400 !important;
  letter-spacing: -0.01em !important;
}

/*  */
:root[data-os-theme="os1"] .chat-input input {
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-input input:focus {
  background: rgba(255, 255, 255, 0.95) !important;
  border-color: rgba(0, 122, 255, 0.5) !important;
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15), 0 2px 8px rgba(0, 0, 0, 0.06) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-input button {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-input button[type="submit"] {
  background: rgba(0, 122, 255, 0.9) !important;
  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

:root[data-os-theme="os1"] .chat-input button[type="submit"]:hover {
  background: rgba(0, 122, 255, 1) !important;
  transform: scale(1.05) !important;
  box-shadow: 0 3px 12px rgba(0, 122, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

:root[data-os-theme="os1"] .chat-input button[type="submit"]:active {
  transform: scale(0.95) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-input button[type="button"] {
  background: rgba(255, 59, 48, 0.9) !important;
  box-shadow: 0 2px 8px rgba(255, 59, 48, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

:root[data-os-theme="os1"] .chat-input button[type="button"]:hover {
  background: rgba(255, 59, 48, 1) !important;
  transform: scale(1.05) !important;
  box-shadow: 0 3px 12px rgba(255, 59, 48, 0.4), 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

:root[data-os-theme="os1"] .chat-input button[type="button"]:active {
  transform: scale(0.95) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-room-item {
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
}

:root[data-os-theme="os1"] .chat-room-item:hover {
  background: rgba(0, 0, 0, 0.05) !important;
}

:root[data-os-theme="os1"] .chat-room-item.selected {
  background: rgba(0, 145, 255, 0.9) !important;
  color: #ffffff !important;
  border-radius: 8px !important;
}

/* OS1  -  */
:root[data-os-theme="os1"] .chat-room-sidebar div[class*="bg-\\[#0091FF\\]"],
:root[data-os-theme="os1"] .chat-room-sidebar div.rounded-lg[class*="bg-\\[#0091FF\\]"],
:root[data-os-theme="os1"] .chat-room-sidebar > div > div > div > div.rounded-lg[class*="bg-\\[#0091FF\\]"] {
  background: rgba(0, 145, 255, 0.9) !important;
  border-radius: 8px !important;
}

:root[data-os-theme="os1"] .chat-room-sidebar div[class*="bg-\\[#0091FF\\]"] span,
:root[data-os-theme="os1"] .chat-room-sidebar div.rounded-lg[class*="bg-\\[#0091FF\\]"] span {
  color: #ffffff !important;
}

:root[data-os-theme="os1"] .chat-room-sidebar div[class*="bg-\\[#0091FF\\]"] *,
:root[data-os-theme="os1"] .chat-room-sidebar div.rounded-lg[class*="bg-\\[#0091FF\\]"] * {
  color: #ffffff !important;
}

/*  OS1  rounded-lg  */
:root[data-os-theme="os1"] .chat-room-sidebar .rounded-lg {
  border-radius: 8px !important;
}

/* OS1  hover  -  */
:root[data-os-theme="os1"] .chat-room-sidebar .rounded-lg:hover,
:root[data-os-theme="os1"] .chat-room-sidebar > div > div > div > div.rounded-lg:hover,
:root[data-os-theme="os1"] .chat-room-sidebar div[class*="rounded-lg"]:hover,
:root[data-os-theme="os1"] .chat-room-sidebar div.py-2.px-3.rounded-lg:hover {
  border-radius: 8px !important;
  background: rgba(0, 0, 0, 0.05) !important;
}

/*  hover  -  */
:root[data-os-theme="os1"] .chat-room-sidebar .rounded-lg:hover:not([class*="bg-\\[#0091FF\\]"]),
:root[data-os-theme="os1"] .chat-room-sidebar div.py-2.px-3.rounded-lg:hover:not([class*="bg-\\[#0091FF\\]"]) {
  border-radius: 8px !important;
  background: rgba(0, 0, 0, 0.05) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-bubble a {
  color: #007aff !important;
  text-decoration: underline !important;
  text-underline-offset: 2px !important;
}

:root[data-os-theme="os1"] .os1-message-bubble-sent a {
  color: rgba(255, 255, 255, 0.9) !important;
  font-weight: 500 !important;
}

/* Zi  */
:root[data-os-theme="os1"] .os1-message-bubble-angry a {
  color: #991b1b !important; /* red-800  */
  text-decoration: underline !important;
  text-underline-offset: 2px !important;
  font-weight: 500 !important;
}

/*  */
:root[data-os-theme="os1"] .chat-title-bar {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08) !important;
}

/*  */
:root[data-os-theme="os1"] .chat-messages-area {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(30px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(180%) !important;
}

/* Zi  -  aqua  */
:root[data-os-theme="os1"] .os1-message-bubble-angry {
  background: rgba(254, 202, 202, 0.9) !important; /* red-200  aqua  */
  color: #b91c1c !important; /* red-700  */
  border: 1px solid rgba(185, 28, 28, 0.2) !important;
  box-shadow: 0 2px 8px rgba(254, 202, 202, 0.4), 0 1px 3px rgba(185, 28, 28, 0.2) !important;
}

/* OS1  -  aqua  */
:root[data-os-theme="os1"] .chat-bubble.bg-pink-100 {
  background: rgba(251, 207, 232, 0.9) !important; /* pink-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-purple-100 {
  background: rgba(233, 213, 255, 0.9) !important; /* purple-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-indigo-100 {
  background: rgba(199, 210, 254, 0.9) !important; /* indigo-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-teal-100 {
  background: rgba(153, 246, 228, 0.9) !important; /* teal-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-lime-100 {
  background: rgba(217, 249, 157, 0.9) !important; /* lime-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-amber-100 {
  background: rgba(253, 230, 138, 0.9) !important; /* amber-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-cyan-100 {
  background: rgba(165, 243, 252, 0.9) !important; /* cyan-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-rose-100 {
  background: rgba(254, 205, 211, 0.9) !important; /* rose-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

:root[data-os-theme="os1"] .chat-bubble.bg-gray-100 {
  background: rgba(229, 231, 235, 0.9) !important; /* gray-200 */
  color: #1d1d1f !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

/* ============================================ */
/* OS1  -  iPod  */
/* ============================================ */

/*  iPod  */
:root[data-os-theme="os1"] .ipod-force-font {
  font-family: inherit !important;
  font-size: 16px !important; /*  */
}

:root[data-os-theme="os1"] .ipod-force-font * {
  font-family: inherit !important;
  font-size: unset !important; /*  OS1  */
}

/*  iPod  div  p  -  Tailwind  */
:root[data-os-theme="os1"] .ipod-force-font div,
:root[data-os-theme="os1"] .ipod-force-font p {
  font-size: unset !important;
  color: unset !important; /*  Tailwind  text-white, text-[#0a3667] */
  line-height: unset !important;
  letter-spacing: unset !important;
}

/*  Chicago  */
:root[data-os-theme="os1"] .ipod-force-font .font-chicago,
:root[data-os-theme="os1"] .font-chicago {
  font-family: "ChicagoKare", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: none !important;
  font-smooth: never !important;
}

/*  Chicago  */
:root[data-os-theme="os1"] .ipod-force-font .font-chicago.text-xs {
  font-size: 0.75rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .font-chicago.text-\[12px\] {
  font-size: 12px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .font-chicago.text-\[16px\] {
  font-size: 16px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .font-chicago.text-\[20px\] {
  font-size: 20px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .font-chicago.text-xl {
  font-size: 1.25rem !important;
}

/*  Chicago  */
:root[data-os-theme="os1"]
  .ipod-force-font
  .font-chicago.text-\[min\(5vw\,5vh\)\] {
  font-size: min(5vw, 5vh) !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .text-\[min\(8vw\,8vh\)\] {
  font-size: min(8vw, 8vh) !important;
}

/*  Geneva-12  */
:root[data-os-theme="os1"] .ipod-force-font .font-geneva-12,
:root[data-os-theme="os1"] .synth-force-font .font-geneva-12 {
  font-family: "Geneva-12", "ArkPixel", "SerenityOS-Emoji", system-ui,
    -apple-system, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: always !important;
  font-size: 12px !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .font-lyrics-rounded {
  font-family: "SF Pro Rounded", "Arial Rounded MT Bold",
    "Hiragino Maru Gothic ProN", "Yuanti SC", "Nanum Gothic", sans-serif !important;
  font-weight: 400 !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/*  iPod  */
:root[data-os-theme="os1"] .ipod-force-font .text-xs {
  font-size: 0.75rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-sm {
  font-size: 0.875rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-base {
  font-size: 1rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-lg {
  font-size: 1.125rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-xl {
  font-size: 1.25rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-2xl {
  font-size: 1.5rem !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-3xl {
  font-size: 1.875rem !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .text-\[12px\] {
  font-size: 12px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[16px\] {
  font-size: 16px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[18px\] {
  font-size: 18px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[20px\] {
  font-size: 20px !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[24px\] {
  font-size: 24px !important;
}

/*  Hangul  */
@media (min-width: 768px) {
  :root[data-os-theme="os1"] .ipod-force-font .md\:text-\[20px\] {
    font-size: 20px !important;
  }
}

/*  */
:root[data-os-theme="os1"]
  .ipod-force-font
  .font-geneva-12.text-\[min\(8vw\,8vh\)\] {
  font-size: min(8vw, 8vh) !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .text-\[min\(10vw\,10vh\)\] {
  font-size: min(10vw, 10vh) !important;
}

:root[data-os-theme="os1"]
  .ipod-force-font
  .font-geneva-12.text-\[min\(10vw\,10vh\)\] {
  font-size: min(10vw, 10vh) !important;
}

/*  iPod  -  OS1  */
/* iPod  Tailwind  OS1  */
:root[data-os-theme="os1"] .ipod-force-font {
  /*  OS1  iPod  */
  --os-color-text-primary: unset !important;
  --os-color-text-secondary: unset !important;
  --os-color-text-disabled: unset !important;
}

/*  iPod  -  */
:root[data-os-theme="os1"] .ipod-force-font .lcd-screen {
  background: inherit !important;
}

/*  Tailwind  iPod  */
:root[data-os-theme="os1"] .ipod-force-font .text-white {
  color: rgb(255, 255, 255) !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-black {
  color: rgb(0, 0, 0) !important;
}

/*  iPod  -  Tailwind  */
:root[data-os-theme="os1"] .ipod-force-font .text-\[\#0a3667\] {
  color: #0a3667 !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[\#c5e0f5\] {
  color: #c5e0f5 !important;
}

:root[data-os-theme="os1"] .ipod-force-font .text-\[\#8a9da9\] {
  color: #8a9da9 !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .bg-\[\#0a3667\] {
  background-color: #0a3667 !important;
}

:root[data-os-theme="os1"] .ipod-force-font .bg-\[\#c5e0f5\] {
  background-color: #c5e0f5 !important;
}

:root[data-os-theme="os1"] .ipod-force-font .bg-\[\#8a9da9\] {
  background-color: #8a9da9 !important;
}

:root[data-os-theme="os1"] .ipod-force-font .bg-\[\#c0d8f0\] {
  background-color: #c0d8f0 !important;
}

/*  */
:root[data-os-theme="os1"] .ipod-force-font .border-\[\#0a3667\] {
  border-color: #0a3667 !important;
}

/* OS1  - macOS 26  */
:root[data-os-theme="os1"] .os1-dialog {
  border-radius: var(--os-metrics-radius) !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(30px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(30px) saturate(180%) !important;
  border: var(--os-metrics-border-width) solid var(--os-color-window-border) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08) !important;
}

/* OS1  */
:root[data-os-theme="os1"] .os1-dialog .os1-title-bar {
  border-radius: var(--os-metrics-title-bar-radius) 0 0 0 !important;
}

/* OS1  */
:root[data-os-theme="os1"] .os1-dialog > div > div {
  background: transparent !important;
}

/* OS1  */
:root[data-os-theme="os1"] .os1-dialog p,
:root[data-os-theme="os1"] .os1-dialog div {
  font-family: var(--os-font-ui) !important;
  color: var(--os-color-text-primary) !important;
}
